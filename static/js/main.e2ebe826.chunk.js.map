{"version":3,"sources":["useFetch.js","components/Card.js","App/App.js","index.js"],"names":["collegesData","require","useFetch","page","useState","loading","setLoading","error","setError","list","setList","fetchData","data","filter","college","sendQuery","useCallback","a","res","prev","Set","map","d","name","useEffect","Card","props","className","App","setPage","loader","useRef","handleObserver","entries","isIntersecting","observer","IntersectionObserver","root","rootMargin","threshold","current","observe","item","i","ref","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"k0DAEMA,G,MAAeC,EAAQ,KA+BdC,MA7Bf,SAAmBC,GACf,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0BF,oBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAwBJ,mBAAS,IAAjC,mBAAOK,EAAP,KAAaC,EAAb,KACMC,EAAU,SAACR,GAEb,OADaH,EAAaY,KAAKC,QAAO,SAAAC,GAAO,OAAIA,EAAQX,OAAOA,MAG9DY,EAAYC,sBAAW,sBAAC,4BAAAC,EAAA,+EAEpBX,GAAW,GAFS,uBAGpBE,GAAS,GAHW,cAIpBU,EAAMP,EAAUR,GAJI,SAKpBO,GAAQ,SAACS,GAAD,mBACP,IAAIC,IAAJ,sBAAYD,GAAZ,YAAqBD,EAAIG,KAAI,SAACC,GAAD,OAAOA,EAAEC,eANnB,OAQ1BjB,GAAW,GARe,kDAU1BE,EAAS,EAAD,IAVkB,0DAY3B,CAACL,IAMJ,OAJAqB,qBAAU,WACNT,MACD,CAACZ,IAEG,CAAEE,UAASE,QAAOE,S,eCadgB,MA1Cf,SAAeC,GACX,OACI,sBAAKC,UAAU,iBAAf,UACI,sBAAKA,UAAU,SAAf,UAEI,sBAAKA,UAAU,iBAAf,UACI,sBAAMA,UAAU,OAAhB,+BACA,sBAAMA,UAAU,OAAhB,yBAEJ,qBAAKA,UAAU,mBAAf,SACI,sBAAKA,UAAU,aAAf,UACI,mBAAGA,UAAU,iBAAb,mBACA,mBAAGA,UAAU,iBAAb,+BAIZ,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,WAAf,UACI,oBAAIA,UAAU,UAAd,SAAyBD,IACzB,oBAAGC,UAAU,eAAb,yCACgC,sBAAMA,UAAU,WAAhB,yBAEhC,oBAAGA,UAAU,aAAb,yBACgB,sBAAMA,UAAU,gBAAhB,oBADhB,IAC8D,sBAAMA,UAAU,WAAhB,4BAD9D,IAC+G,sBAAMA,UAAU,gBAAhB,kBAD/G,IAC2J,sBAAMA,UAAU,WAAhB,kCAG/J,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,QAAd,0BACA,mBAAGA,UAAU,WAAb,0CAGR,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,aAAf,SACI,oBAAGA,UAAU,GAAb,kBAAqB,sBAAMA,UAAU,aAAhB,oBAArB,eAA2E,sBAAMA,UAAU,aAAhB,mBAA3E,yBAA0I,sBAAMA,UAAU,YAAhB,wBAE9I,qBAAKA,UAAU,cAAf,SACI,mBAAGA,UAAU,aAAb,mD,MCWLC,MAxCf,WAEE,MAAwBxB,mBAAS,GAAjC,mBAAOD,EAAP,KAAa0B,EAAb,KACA,EAAiC3B,EAASC,GAAlCE,EAAR,EAAQA,QAASE,EAAjB,EAAiBA,MAAOE,EAAxB,EAAwBA,KAClBqB,EAASC,iBAAO,MAEhBC,EAAiBhB,uBAAY,SAACiB,GACnBA,EAAQ,GACZC,gBACTL,GAAQ,SAACV,GAAD,OAAUA,EAAO,OAE1B,IAYH,OAVAK,qBAAU,WACR,IAKMW,EAAW,IAAIC,qBAAqBJ,EAL3B,CACbK,KAAM,KACNC,WAAY,OACZC,UAAW,IAGTT,EAAOU,SAASL,EAASM,QAAQX,EAAOU,WAC3C,CAACR,IAGF,sBAAKL,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,SACGlB,EAAKY,KAAI,SAACqB,EAAKC,GAAN,OACR,qBAAKhB,UAAU,UAAf,SACGF,EAAKiB,IADsBC,QAMjCtC,GAAW,2CACXE,GAAS,uCACV,qBAAKqC,IAAKd,QCtChBe,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e2ebe826.chunk.js","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nconst collegesData = require(\"./data.json\");\r\n\r\nfunction useFetch( page) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n    const [list, setList] = useState([]);\r\n    const fetchData=(page)=>{\r\n        let colleges=collegesData.data.filter(college => college.page===page);\r\n        return colleges;\r\n    }\r\n    const sendQuery = useCallback(async () => {\r\n        try {\r\n        await setLoading(true);\r\n        await setError(false);\r\n        const res = fetchData(page);\r\n        await setList((prev) => [\r\n            ...new Set([...prev, ...res.map((d) => d.name)])\r\n        ]);\r\n        setLoading(false)\r\n        } catch (err) {\r\n        setError(err);\r\n        }\r\n    }, [page]);\r\n\r\n    useEffect(() => {\r\n        sendQuery();\r\n    }, [page]);\r\n\r\n    return { loading, error, list };\r\n}\r\n\r\nexport default useFetch;","import \"./styles.css\";\r\nfunction Card (props){\r\n    return(\r\n        <div className=\"card-container\">\r\n            <div className=\"header\">\r\n                \r\n                <div className=\"tags-container\">\r\n                    <span className=\"tags\">Best College 2018</span>\r\n                    <span className=\"tags\">2km away</span>\r\n                </div>\r\n                <div className=\"rating-container\">\r\n                    <div className=\"rating-div\">\r\n                        <p className=\"rating-content\">3.9/5</p>\r\n                        <p className=\"rating-content\">Very Good</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"description\">\r\n                <div className=\"left-div\">\r\n                    <h2 className=\"heading\">{props}</h2>\r\n                    <p className=\"college-addr\">\r\n                        New Vishwavidayal Station | <span className=\"sub-info\">2km away</span>\r\n                    </p>\r\n                    <p className=\"extra-info\">\r\n                        93% Match : <span className=\"landmark-dist\">2.5kms</span> <span className=\"sub-info\">from GTB Nagar</span>,<span className=\"landmark-dist\">7kms</span> <span className=\"sub-info\">from GTB Nagar</span>\r\n                    </p>\r\n                </div>\r\n                <div className=\"right-div\">\r\n                    <h2 className=\"price\">â‚¹ 5,768</h2>\r\n                    <p className=\"sem-info\">Per Semester (3months)</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"offer-description\">\r\n                <div className=\"offer-left\">\r\n                    <p className=\"\">Flat <span className=\"extra-info\">Rs2000</span> off + upto <span className=\"extra-info\">Rs500</span> wallet! to  avail... <span className=\"login-btn\">LOGIN</span></p> \r\n                </div>\r\n                <div className=\"offer-right\">\r\n                    <p className=\"extra-info\">Fee Cancellation . Free Wifi</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Card;","//? useRef()- it is a value that is persisted between the components render.\n//? bcz in react everything we do stays inside render unless it is part of our state and to store things\n//? that are not part of our state we have to use \"useRef\"\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport useFetch from \"../useFetch\";\nimport Card from \"../components/Card\";\n\nimport \"./styles.css\";\nfunction App() {\n  // const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const { loading, error, list } = useFetch(page);\n  const loader = useRef(null);\n\n  const handleObserver = useCallback((entries) => {\n    const target = entries[0];\n    if (target.isIntersecting) {\n      setPage((prev) => prev + 1);\n    }\n  }, []);\n\n  useEffect(() => {\n    const option = {\n      root: null,\n      rootMargin: \"20px\",\n      threshold: 0\n    };\n    const observer = new IntersectionObserver(handleObserver, option);\n    if (loader.current) observer.observe(loader.current);\n  }, [handleObserver]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"cardHolder\">\n        {list.map((item,i) => (\n          <div className=\"cardDiv\" key={i}>\n            {Card(item)}\n          </div>\n        ))}\n      </div>\n\n      {loading && <p>Loading...</p>}\n      {error && <p>Error!</p>}\n      <div ref={loader} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}